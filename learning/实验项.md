- [搜索框](#搜索框)  
  + [便捷引入](#便捷引入)  
  + [搜索框的记忆及清除](#搜索框的记忆及清除)  
  + [根据用户输入请求相应数据](#根据用户输入请求相应数据)  
  + [点击查询](#点击查询)  

- [登录相关](#登录相关)  
  + [将token保存到sessionStorage](#将token保存到sessionStorage)


----

### 搜索框

#### 便捷引入

axios
```
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
```

vue
```
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
```

#### 搜索框的记忆及清除  
> 可以建立一个数组，用于存储用户的输入数据，并使用 [v-for](https://github.com/SpringLoach/Vue/blob/main/learning/section1.md#v-for遍历数组和对象) 将数据展示到页面。  
> 
> 利用[表单输入绑定](https://github.com/SpringLoach/Vue/blob/main/learning/section1.md#表单输入绑定)获取用户输入的值，
当用户[敲下回车](https://github.com/SpringLoach/Vue/blob/main/learning/section1.md#v-on修饰符)时，将相应值添入到数组中即可展示。  

- 设置表单[默认值](https://github.com/SpringLoach/Vue/blob/main/learning/section1.md#表单输入绑定)   
- 添加数据  
- [删除](https://github.com/SpringLoach/origin-2021/blob/happy-day/JavaScript/常用方法速查.md#数组方法)某项数据  
- 移除所有数据  
- 当表单输入绑定的变量为空字符串时，使用 [placeholder](https://github.com/SpringLoach/origin-2021/blob/happy-day/css/html-速查.md#表单) 依旧可以设置提示  

#### 根据用户输入请求相应数据  
> 利用[表单输入绑定](https://github.com/SpringLoach/Vue/blob/main/learning/section1.md#表单输入绑定)的变量保存用户输入的值，
当用户[敲下回车](https://github.com/SpringLoach/Vue/blob/main/learning/section1.md#v-on修饰符)时，将变量作为查询键的值传入请求实例，发送请求。  

```
axios.get("https://xxx.xx/search?keyword=" + this.query)
```

#### 点击查询  
> 给相应的热门词都添加点击事件，在处理程序中给表单输入绑定的变量赋值，并发送请求。由于已经做好了数据展示的设计，此时会根据保存的数据**在页面直接渲染**。    

----

### 登录相关

#### 将token保存到sessionStorage  
> 一般页面登陆成功后，服务器会返回 token 作为接下来的通信凭据，此时要在客户端将该 token 保存到会话存储中，直至网页关闭前，它都会保留。  

```
then(() => {
  window.sessionStorage.setItem("token", res.anywhere.token);
})
```

#### token原理  

1. 客户端：用户在登录页面输入用户名和密码进行登录    
2. 服务器：验证通过，会生成属于该用户的 `token` 并返回   
3. 客户端：存储 `token`，并在后续所有的请求中携带 `token`   
4. 服务端：通过验证 `token` 来辨认身份

#### 渲染登录组件  
> [配置](https://github.com/SpringLoach/Vue/blob/main/learning/section2.md#路由映射配置)路由映射及[重定向](https://github.com/SpringLoach/Vue/blob/main/learning/section2.md#路由的默认值和模式修改)，在 `main.js` 中挂载路由实例，并在根组件中决定需要渲染路由组件的[位置](https://github.com/SpringLoach/Vue/blob/main/learning/section2.md#路由映射配置)。

#### less的安装[使用](https://less.bootcss.com/#概览)  

安装到 Node.js  
```
npm install less-loader@7.3.0 less --save-dev
```

在组件中使用
```
/* Login.vue */
<style lang="less" scoped>
#login {background-color: #2b4b6b;}
</style>
```

- 将 normalize.css 导入 新创建的 `base.css`  
- 并将 `base.css`，导入到 `App.vue`

#### 表单失焦验证  
> 监听表单元素的 `blur` 事件，来[动态绑定](https://github.com/SpringLoach/Vue/blob/main/learning/section1.md#绑定class)样式。需要注意的是，如果用数组保存判断值，不能直接修改[数组](https://github.com/SpringLoach/Vue/blob/main/learning/section1.md#数组变更方法)。  

#### 表单的重置功能  
> 监听表单重置元素的点击，将对应的值赋值为空字符串，然后将修改后的数组赋值给数组本身触发检测。

#### 表单预验证  
> 监听表单的 `submit` 事件，适当的时候调用 `event.preventDefult()` 阻止表单提交。  










